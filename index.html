<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>imagine</title>
  <meta name="theme-color" content="#fdd4ff">
  <link rel="icon" href="https://i.imgur.com/VIK1odj.jpeg">

  <style>
  :root{
    --pink: #fdd4ff;
    --bg: #000000;
    --white: #ffffff;
    --muted-white: rgba(255,255,255,0.7);
    --ui-height: 64px;
    --max-width: 1100px;
    --radius: 12px;
    --font-main: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    min-height:100vh;
    font-family:var(--font-main);
    background:var(--bg);
    color:var(--white);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.45;
  }

  /* Layout */
  .app{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:18px;
    position:relative;
    padding:28px 18px;
  }

  header.header {
    width: min(100%, var(--max-width));
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:8px;
    z-index:20;
  }

  /* Aggressive per-letter font change title */
  .title-agg {
    font-size:38px;
    font-weight:900;
    letter-spacing:0.6px;
    display:flex;
    gap:6px;
    align-items:center;
    user-select:none;
  }
  .title-agg span {
    display:inline-block;
    transition: transform .12s ease;
    will-change: font-family, transform;
    padding:2px 0;
  }

  /* Tab-focused subtitle */
  .subtitle { color: var(--muted-white); font-size:13px; margin-top:4px; }

  main {
    width: min(100%, var(--max-width));
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:20px;
    align-items:start;
    z-index:10;
  }

  /* Left: card with about + controls */
  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: var(--radius);
    padding:22px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 14px 40px rgba(0,0,0,0.6);
  }

  h1.section-title { margin:0 0 10px 0; font-size:18px; color:var(--pink); }
  p.about { color: #e6e6e6; font-size:15px; line-height:1.6; }

  /* Right: links panel */
  .links-panel{
    background: rgba(255,255,255,0.02);
    border-radius:12px;
    padding:12px;
    border:1px solid rgba(255,255,255,0.03);
    display:grid;
    gap:10px;
  }
  .link-item{
    display:flex;
    gap:10px;
    align-items:center;
    padding:8px;
    border-radius:10px;
    background:transparent;
    cursor:pointer;
    transition: transform .12s ease, background .12s;
    border: 1px solid rgba(255,255,255,0.03);
  }
  .link-item:hover{ transform: translateY(-4px) }
  .link-item img{width:44px;height:44px;border-radius:8px;object-fit:cover}

  /* UI elements that are 'white details' - they will pulse red on big audio changes */
  .white-detail { color: var(--white); border-color: var(--white); box-shadow: 0 6px 20px rgba(253,212,255,0.02); }
  .white-detail a { color: var(--white); text-decoration:none; }

  /* pulse to red animation (applied by JS) */
  .pulse-red {
    animation: toRed 1.1s ease-in-out;
  }
  @keyframes toRed {
    0% { color: var(--white); border-color: var(--white); box-shadow: 0 6px 24px rgba(253,212,255,0.02); }
    40% { color: #ff4a4a; border-color: #ff4a4a; box-shadow: 0 12px 40px rgba(255,74,74,0.14); transform: scale(1.02); }
    100% { color: var(--white); border-color: var(--white); box-shadow: 0 6px 20px rgba(253,212,255,0.02); transform: scale(1); }
  }

  /* small controls */
  .controls { display:flex; gap:10px; margin-top:14px; align-items:center; flex-wrap:wrap; }
  .btn { background:transparent; border:1px solid rgba(255,255,255,0.06); padding:8px 12px; border-radius:8px; cursor:pointer; color:var(--muted-white); }
  .btn.primary { background:var(--pink); color:#000; border:none; }

  footer.footer {
    width:min(100%,var(--max-width));
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    padding:8px 0;
    color:var(--muted-white);
  }

  @media (max-width:980px){
    main{ grid-template-columns: 1fr; }
    .links-panel{ order: 2; }
  }

  /* small accessibility: reduce motion */
  @media (prefers-reduced-motion: reduce){
    .title-agg span { transition: none; animation: none; }
  }
  </style>
</head>
<body>
  <div class="app">
    <header class="header">
      <div>
        <div id="titleAgg" class="title-agg" aria-hidden="true"></div>
        <div class="subtitle">Arcade · landing</div>
      </div>

      <div class="subtitle white-detail" id="statusText">Discord: loading…</div>
    </header>

    <main>
      <!-- Left: About + audio control -->
      <section class="card">
        <h1 class="section-title">About Me</h1>
        <p class="about white-detail" id="aboutText">
          <!-- About text is injected by JS (combined from your files) -->
        </p>

        <div class="controls">
          <button id="playBtn" class="btn primary">Play Music</button>
          <button id="pauseBtn" class="btn">Pause</button>
          <button id="muteBtn" class="btn">Mute</button>
        </div>

        <div style="margin-top:12px; color:var(--muted-white); font-size:13px;">
          Audio source: <span class="white-detail">RE.mp3 (project)</span>
        </div>
      </section>

      <!-- Right: quick links -->
      <aside class="links-panel white-detail" role="navigation" aria-label="Social links">
        <!-- Link items preserved from your original landing. Update data-url if needed. -->
        <div class="link-item white-detail" data-url="https://instagram.com/imagine_ofc_" title="Instagram">
          <img src="https://i.imgur.com/2kUGZ8w.png" alt="Instagram">
          <div>
            <div style="font-weight:700">Instagram</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">@imagine_ofc_</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://twitch.tv/Imagine_ofc" title="Twitch">
          <img src="https://i.imgur.com/dlkzRxg.png" alt="Twitch">
          <div>
            <div style="font-weight:700">Twitch</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">Live streams</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://m.youtube.com/@imagine_ofc" title="YouTube">
          <img src="https://i.imgur.com/y32pAoI.png" alt="YouTube">
          <div>
            <div style="font-weight:700">YouTube</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">Shorts & videos</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://imagine-ofc.vercel.app/about.html" title="About">
          <img src="https://i.imgur.com/8hDawtU.jpeg" alt="About">
          <div>
            <div style="font-weight:700">About</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">Project info</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://game.capcom.com/residentevil/sp/en/p2450532.html" title="Resident Evil">
          <img src="https://i.imgur.com/c1OgfAW.jpeg" alt="Resident Evil">
          <div>
            <div style="font-weight:700">Resident Evil</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">Capcom</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://www.roblox.com/communities/35831139/Imaginova-Dimenze" title="Roblox">
          <img src="https://i.imgur.com/R79e1x7.png" alt="Roblox">
          <div>
            <div style="font-weight:700">Roblox</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">Community</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://silentstudio.vercel.app/" title="Silent Studio">
          <img src="https://i.imgur.com/LeDYnNo.jpeg" alt="Silent Studio">
          <div>
            <div style="font-weight:700">Silent Studio</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">Creative</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://imagine-ofc.vercel.app/Quantum.html" title="Quantum">
          <img src="https://i.imgur.com/Xt3I8Z5.png" alt="Quantum">
          <div>
            <div style="font-weight:700">Quantum</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.8)">Discord bot</div>
          </div>
        </div>
      </aside>
    </main>

    <footer class="footer">
      <div style="color:var(--muted-white)">Built with ❤️ — Imagine</div>
      <div style="color:var(--muted-white)">© Imagine</div>
    </footer>
  </div>

  <!-- AUDIO (raw GitHub URL) -->
  <audio id="bgAudio" preload="auto" crossorigin="anonymous">
    <source src="https://raw.githubusercontent.com/Imagineoff/Tet/main/RE.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <script>
  /********* Content merge (About text) *********/
  // Base about text (from your old landing) + combined funfacts (picked only the text pieces)
  const aboutParts = [
    `Hello! I'm Imagine, a passionate web developer and programmer who builds interactive web projects and Discord bots. I enjoy creating sleek, user-friendly interfaces and integrating creative functionality into websites and apps using modern technologies like HTML, CSS, JavaScript, and Node.js.`,
    // funfact texts extracted and merged (only textual content)
    `I’d love to live in New York one day.`,
    `My favorite music artist is The Weeknd.`,
    `My favorite game series is Resident Evil and my favorite character is Ada Wong.`,
    `One of my favorite books is "Zoo Station: The Story of Christiane F."`,
    `My favorite multiplayer game is Dead by Daylight.`,
    `One of my favorite films is The Great Gatsby.`
  ];
  document.getElementById('aboutText').innerHTML = aboutParts.join(' ');

  /********* Links: make items open new tab *********/
  document.querySelectorAll('.link-item').forEach(el=>{
    el.addEventListener('click', ()=> {
      const url = el.dataset.url;
      if(url) window.open(url, '_blank', 'noopener');
    });
  });

  /********* Title: aggressive per-letter font changes *********/
  const titleStr = "Imagine";
  const titleAgg = document.getElementById('titleAgg');

// create spans for each letter
const fonts = [
  "'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial",
  "Georgia, 'Times New Roman', Times, serif",
  "'Courier New', Courier, monospace",
  "Impact, Haettenschweiler, 'Arial Black', sans-serif",
  "Verdana, Geneva, sans-serif",
  "Roboto, 'Helvetica Neue', Arial, sans-serif",
  "Lora, serif",
  "Oswald, 'Helvetica Neue', Arial, sans-serif"
];

titleAgg.innerHTML = "";
for(let ch of titleStr){
  const sp = document.createElement('span');
  sp.textContent = ch;
  sp.style.fontFamily = fonts[0];
  titleAgg.appendChild(sp);
}

// change fonts of random letters rapidly
setInterval(()=> {
  const spans = titleAgg.querySelectorAll('span');
  // change 1-3 random letters per tick for aggressive effect
  const count = Math.floor(Math.random()*3) + 1;
  for(let i=0;i<count;i++){
    const idx = Math.floor(Math.random()*spans.length);
    const f = fonts[Math.floor(Math.random()*fonts.length)];
    spans[idx].style.fontFamily = f;
    // slight random nudge
    spans[idx].style.transform = `translateY(${(Math.random()-0.5)*6}px)`;
    // reset transform shortly after
    setTimeout(()=> spans[idx].style.transform = '', 120);
  }
}, 80); // very fast/aggressive

  /********* Tab title: typewriter effect for "imagine" *********/
  const targetTitle = 'imagine';
  let ti = 0, typing = true;
  function typeTick() {
    if(typing) {
      ti++;
      document.title = targetTitle.slice(0, ti);
      if(ti >= targetTitle.length) {
        typing = false;
        setTimeout(()=> { typing = true; ti = 0; }, 1200); // pause then repeat
      }
    }
    setTimeout(typeTick, 120);
  }
  typeTick();

  /********* AUDIO VISUALIZER + big-change pulse *********/
  const audioEl = document.getElementById('bgAudio');
  let audioCtx, analyser, source;
  const fftSize = 512;
  let prevAvg = 0;
  const threshold = 28; // tune: how big change needs to be
  let cooldown = false;

  function ensureAudioContext(){
    if(audioCtx) return;
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = fftSize;
    source = audioCtx.createMediaElementSource(audioEl);
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
  }

  function getAverage(data){
    let sum = 0;
    for(let i=0;i<data.length;i++) sum += data[i];
    return sum / data.length;
  }

  function monitorAudio(){
    if(!analyser) return;
    const data = new Uint8Array(analyser.frequencyBinCount);
    analyser.getByteFrequencyData(data);
    const avg = getAverage(data);
    const delta = Math.abs(avg - prevAvg);
    // detect large jump
    if(delta > threshold && !cooldown) {
      triggerPulse();
      cooldown = true;
      setTimeout(()=> cooldown = false, 1200); // cooldown time
    }
    prevAvg = avg * 0.6 + prevAvg * 0.4; // smoothing
    requestAnimationFrame(monitorAudio);
  }

  function triggerPulse(){
    // add pulse class to all white-detail elements
    const els = document.querySelectorAll('.white-detail');
    els.forEach(e => {
      e.classList.remove('pulse-red');
      // force reflow to restart animation
      void e.offsetWidth;
      e.classList.add('pulse-red');
      // remove class after animation finishes
      setTimeout(()=> e.classList.remove('pulse-red'), 1200);
    });
  }

  // Play / Pause / Mute buttons
  document.getElementById('playBtn').addEventListener('click', async ()=>{
    try {
      ensureAudioContext();
      await audioCtx.resume();
      await audioEl.play();
      // start monitoring
      requestAnimationFrame(monitorAudio);
    } catch(e){ console.warn('play err', e); }
  });

  document.getElementById('pauseBtn').addEventListener('click', ()=>{
    audioEl.pause();
  });

  document.getElementById('muteBtn').addEventListener('click', ()=>{
    audioEl.muted = !audioEl.muted;
    document.getElementById('muteBtn').textContent = audioEl.muted ? 'Unmute' : 'Mute';
  });

  /********* Discord status fetch (kept lightweight) *********/
  // if you want to keep original lanyard behavior you can set DISCORD_ID accordingly.
  const DISCORD_ID = '904431016175894528';
  async function fetchLanyard(){
    try{
      const res = await fetch('https://api.lanyard.rest/v1/users/' + DISCORD_ID);
      if(!res.ok) throw new Error('Lanyard fetch failed');
      const data = await res.json();
      if(data && data.success && data.data){
        const d = data.data;
        const online = d.discord_status || 'unknown';
        let color = '#777';
        if(online==='online') color = '#3ba55d';
        if(online==='dnd') color = '#ed4245';
        if(online==='idle') color = '#faa81a';
        document.getElementById('statusText').style.color = color;
        let activity = 'Offline';
        if(d.activities && d.activities.length){
          activity = d.activities.map(a => a.name || a.state || 'Activity').join(', ');
        } else {
          activity = online === 'offline' ? 'Offline' : 'Online';
        }
        document.getElementById('statusText').textContent = `Discord: ${activity}`;
      }
    }catch(err){
      // ignore silently
    }
  }
  fetchLanyard();
  setInterval(fetchLanyard, 30000);

  </script>
</body>
</html>
