<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>imagine</title>
  <meta name="theme-color" content="#fdd4ff">
  <link rel="icon" href="https://i.imgur.com/VIK1odj.jpeg">

  <style>
  :root{
    --pink: #fdd4ff;
    --bg: #000000;
    --white: #ffffff;
    --muted-white: rgba(255,255,255,0.75);
    --accent: #8be9fd;
    --radius: 12px;
    --max-width: 1200px;
    --font-main: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    min-height:100vh;
    font-family:var(--font-main);
    background: radial-gradient(1200px 600px at 10% 10%, rgba(20,20,20,0.35), transparent), 
                radial-gradient(900px 400px at 90% 90%, rgba(30,10,40,0.25), transparent),
                var(--bg);
    color:var(--white);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-x:hidden;
    transition: background .3s ease;
  }

  /* Overlay (ENTER) */
  .entry-overlay{
    position:fixed;
    inset:0;
    background:linear-gradient(180deg, rgba(0,0,0,0.95), rgba(0,0,0,0.92));
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:9999;
    flex-direction:column;
    gap:22px;
  }
  .enter-btn{
    padding:18px 36px;
    border-radius:12px;
    border:2px solid rgba(255,255,255,0.08);
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    color:var(--white);
    font-weight:800;
    letter-spacing:3px;
    cursor:pointer;
    font-size:18px;
    transition:transform .12s ease, box-shadow .12s;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
  }
  .enter-btn:active{ transform: translateY(2px) scale(.995) }

  .entry-small{
    color:var(--muted-white);
    font-size:13px;
    opacity:.9;
  }

  /* Layout */
  .app{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:18px;
    position:relative;
    padding:36px 22px;
  }

  header.header {
    width: min(100%, var(--max-width));
    display:flex;
    align-items:center;
    justify-content:flex-end;
    gap:12px;
    padding:8px 12px;
    z-index:20;
  }
  .status {
    color:var(--muted-white);
    font-size:13px;
    padding:6px 10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.04);
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  }

  .hero{
    width:100%;
    max-width:var(--max-width);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:18px;
    margin-top:8px;
    text-align:center;
    z-index:10;
    pointer-events:none;
  }

  .title-agg {
    font-weight:900;
    display:flex;
    gap:6px;
    align-items:center;
    user-select:none;
    pointer-events:auto;
  }
  .title-agg span {
    display:inline-block;
    transition: transform 0.2s cubic-bezier(.2,.9,.2,1), 
                color 0.2s, 
                text-shadow 0.2s,
                opacity 0.5s;
    will-change: font-family, transform, text-shadow, color, opacity;
    padding:2px 0;
    color:var(--white);
    text-shadow: 0 6px 30px rgba(0,0,0,0.6);
  }

  .title-agg { font-size: clamp(46px, 14vw, 120px); letter-spacing: -2px; }
  .subtitle-small { color:var(--muted-white); font-size:14px; margin-top:-6px; pointer-events:none; }

  main {
    width: min(100%, var(--max-width));
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:26px;
    align-items:start;
    margin-top:10px;
  }

  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: 14px;
    padding:26px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 20px 60px rgba(0,0,0,0.7);
    pointer-events:auto;
  }

  h2.section-title { margin:0 0 10px 0; font-size:18px; color:var(--pink); letter-spacing:1px; text-transform:uppercase; }
  p.about { color: #e6e6e6; font-size:15px; line-height:1.6; margin:0; }

  .links-panel{
    background: rgba(255,255,255,0.02);
    border-radius:12px;
    padding:14px;
    border:1px solid rgba(255,255,255,0.03);
    display:grid;
    gap:12px;
    pointer-events:auto;
  }
  .link-item{
    display:flex;
    gap:12px;
    align-items:center;
    padding:10px;
    border-radius:10px;
    background:transparent;
    cursor:pointer;
    transition: transform .12s ease, background .12s;
    border: 1px solid rgba(255,255,255,0.03);
  }
  .link-item:hover{ transform: translateY(-6px); background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)) }
  .link-item img{width:46px;height:46px;border-radius:8px;object-fit:cover}

  .white-detail { 
    color: var(--white); 
    border-color: var(--white); 
    box-shadow: 0 6px 20px rgba(253,212,255,0.02); 
    /* UPRAVENO: Přidán přechod pro box-shadow a border-width */
    transition: transform 0.2s ease-in-out, 
                color 0.2s ease-in-out, 
                text-shadow 0.2s ease-in-out, 
                border-color 0.2s ease-in-out,
                opacity 0.5s ease-in-out,
                box-shadow 0.2s ease-in-out,
                border-width 0.2s ease-in-out;
  }
  .white-detail a { color: var(--white); text-decoration:none; }

  /* UPRAVENO: Nové třídy efektů podle tvých poznámek */
  .effect-hodne {
    color: #ff4a4a !important; 
    border-color: #ff4a4a !important;
    transform: scale(1.02);
    text-shadow: 0 10px 30px rgba(255,74,74,0.1);
    /* PŘIDÁNO: Silnější záře, stín a tloušťka okraje */
    box-shadow: 0 0 15px 3px rgba(255, 74, 74, 0.4), 0 10px 40px rgba(0,0,0,0.8);
    border-width: 2px;
  }

  .effect-lehce {
    color: var(--pink) !important;
    border-color: var(--pink) !important;
    transform: scale(1.01);
    text-shadow: 0 6px 20px rgba(253,212,255,0.05);
    /* PŘIDÁNO: Lehčí růžová záře, stín a tloušťka okraje */
    box-shadow: 0 0 12px 2px rgba(253, 212, 255, 0.25), 0 8px 30px rgba(0,0,0,0.7);
    border-width: 2px;
  }

  .effect-tlumit {
    opacity: 0.65;
  }
  /* Konec upraveného CSS */


  .controls { display:flex; gap:10px; margin-top:16px; align-items:center; flex-wrap:wrap; }
  .btn { background:transparent; border:1px solid rgba(255,255,255,0.06); padding:8px 12px; border-radius:8px; cursor:pointer; color:var(--muted-white); }
  .btn.primary { background:var(--pink); color:#000; border:none; font-weight:700; }

  footer.footer {
    width:min(100%,var(--max-width));
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    padding:18px 0;
    color:var(--muted-white);
    pointer-events:none;
  }

  @media (max-width:980px){
    main{ grid-template-columns: 1fr; }
    .links-panel{ order: 2; }
    .hero{ margin-top:18px }
  }

  @media (prefers-reduced-motion: reduce){
    .title-agg span { transition: none; animation: none; }
  }
  </style>
</head>
<body>
  <div id="entryOverlay" class="entry-overlay" role="dialog" aria-modal="true" aria-label="Enter site">
    <div style="pointer-events:none;">
      <div id="entryTitle" class="title-agg" style="font-size: clamp(36px, 10vw, 96px);"></div>
    </div>
    <div class="entry-small">Press ENTER to enter</div>
    <button id="enterBtn" class="enter-btn" aria-label="Enter site">ENTER</button>
  </div>

  <div class="app" id="appRoot" aria-hidden="true">
    <header class="header">
      <div id="statusText" class="status white-detail">Loading…</div>
    </header>

    <section class="hero" aria-hidden="false">
      <div id="titleAgg" class="title-agg" aria-hidden="true"></div>
      <div class="subtitle-small">creative projects & visuals</div>
    </section>

    <main>
      <section class="card white-detail" aria-labelledby="aboutHeading">
        <h2 id="aboutHeading" class="section-title">About</h2>
        <p class="about" id="aboutText"></p>

        <div class="controls" style="margin-top:18px;">
          <button id="pauseBtn" class="btn">Pause</button>
          <button id="muteBtn" class="btn">Mute</button>
        </div>
      </section>

      <aside class="links-panel white-detail" role="navigation" aria-label="Social links">
        <div class="link-item white-detail" data-url="https://instagram.com/imagine_ofc_" title="Instagram">
          <img src="https://i.imgur.com/2kUGZ8w.png" alt="Instagram">
          <div>
            <div style="font-weight:700">Instagram</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.85)">@imagine_ofc_</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://twitch.tv/Imagine_ofc" title="Twitch">
          <img src="https://i.imgur.com/dlkzRxg.png" alt="Twitch">
          <div>
            <div style="font-weight:700">Twitch</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.85)">Live</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://m.youtube.com/@imagine_ofc" title="YouTube">
          <img src="https://i.imgur.com/y32pAoI.png" alt="YouTube">
          <div>
            <div style="font-weight:700">YouTube</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.85)">Videos</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://imagine-ofc.vercel.app/about.html" title="About">
          <img src="https://i.imgur.com/8hDawtU.jpeg" alt="About">
          <div>
            <div style="font-weight:700">About</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.85)">Project info</div>
          </div>
        </div>

        <div class="link-item white-detail" data-url="https://game.capcom.com/residentevil/sp/en/p2450532.html" title="Resident Evil">
          <img src="https://i.imgur.com/c1OgfAW.jpeg" alt="Resident Evil">
          <div>
            <div style="font-weight:700">Resident Evil</div>
            <div style="font-size:13px; color:rgba(255,255,255,0.85)">Capcom</div>
          </div>
        </div>
      </aside>
    </main>

    <footer class="footer">
      <div style="color:var(--muted-white)">Web version 20</div>
      <div style="color:var(--muted-white)">© Imagine</div>
    </footer>
  </div>

  <audio id="bgAudio" preload="auto" crossorigin="anonymous">
    <source src="https://raw.githubusercontent.com/Imagineoff/Tet/main/RE.mp3" type="audio/mpeg">
  </audio>

  <script>
  /* PŘIDÁNO: Tvoje timestampy v sekundách */
  const timeEvents = [
    { start: 158, end: 162, effect: 'lehce' },
    { start: 207, end: 210, effect: 'hodne' },
    { start: 213, end: 215, effect: 'lehce' },
    { start: 220, end: 224, effect: 'lehce' },
    { start: 227, end: 230, effect: 'hodne' },
    { start: 234, end: 236, effect: 'lehce' },
    { start: 241, end: 245, effect: 'lehce' },
    { start: 274, end: 290, effect: 'tlumit' },
    { start: 309, end: 313, effect: 'hodne' },
    { start: 316, end: 320, effect: 'lehce' },
    { start: 323, end: 327, effect: 'lehce' },
    { start: 330, end: 363, effect: 'tlumit' }
  ];

  let reactionTargets = [];
  const effectClasses = ['effect-lehce', 'effect-hodne', 'effect-tlumit'];

  /* UPRAVENO: Nový text pro "About" sekci */
  const aboutParts = [
    `Hello! I'm Imagine, a game developer and creative coder based in the Czech Republic.`,
    `I focus on building interactive web projects and Discord bots.`,
    `I'm a massive fan of the Resident Evil series (my favorite character is Ada Wong) and Dead by Daylight.`,
    `I also spend time as a Guard in the game Stepford County Railway (SCR).`,
    `My favorite music artist is The Weeknd.`,
    `I’d love to live in New York one day.`
  ];
  /* Konec upraveného textu */

  document.addEventListener('DOMContentLoaded', ()=>{
    document.getElementById('aboutText').textContent = aboutParts.join(' ');
    const titleSpans = document.querySelectorAll('#titleAgg span');
    const whiteDetails = document.querySelectorAll('.white-detail');
    reactionTargets = [...titleSpans, ...whiteDetails];
  });

  /* ------------------ Links ------------------ */
  document.querySelectorAll('.link-item').forEach(el=>{
    el.addEventListener('click', ()=> {
      const url = el.dataset.url;
      if(url) window.open(url, '_blank', 'noopener');
    });
  });

  /* ------------------ Title letters ------------------ */
  const titleStr = "Imagine";
  const fonts = [
    "Impact, Haettenschweiler, 'Arial Black', sans-serif",
    "Georgia, 'Times New Roman', Times, serif",
    "'Courier New', Courier, monospace",
    "Verdana, Geneva, sans-serif",
    "Roboto, 'Helvetica Neue', Arial, sans-serif",
    "'Lora', serif",
    "'Oswald', 'Helvetica Neue', Arial, sans-serif",
    "'Segoe UI', Tahoma, Geneva, sans-serif"
  ];

  function buildTitle(containerId){
    const container = document.getElementById(containerId);
    container.innerHTML = "";
    for(let ch of titleStr){
      const sp = document.createElement('span');
      sp.textContent = ch;
      sp.style.fontFamily = fonts[0];
      container.appendChild(sp);
    }
    return container;
  }

  const heroTitle = buildTitle('titleAgg');
  const entryTitle = buildTitle('entryTitle');

  function randomizeLetters(container, speed=90){
    return setInterval(()=>{
      const spans = container.querySelectorAll('span');
      const count = Math.floor(Math.random()*2) + 1;
      for(let i=0;i<count;i++){
        const idx = Math.floor(Math.random()*spans.length);
        const f = fonts[Math.floor(Math.random()*fonts.length)];
        spans[idx].style.fontFamily = f;
      }
    }, speed);
  }
  const intA = randomizeLetters(heroTitle, 110);
  const intB = randomizeLetters(entryTitle, 80);

  // Tab title typewriter
  const targetTitle = 'imagine';
  let ti = 0, typing = true;
  function typeTick() {
    if(typing) {
      ti++;
      document.title = targetTitle.slice(0, ti);
      if(ti >= targetTitle.length) {
        typing = false;
        setTimeout(()=> { typing = true; ti = 0; }, 1200);
      }
    }
    setTimeout(typeTick, 140);
  }
  typeTick();

  /* ------------------ Nový systém pro timestampy ------------------ */
  const audioEl = document.getElementById('bgAudio');
  let currentEffect = null;

  function startTimestampChecker() {
    setInterval(() => {
      const now = audioEl.currentTime;
      let activeEffect = null;

      for (const event of timeEvents) {
        if (now >= event.start && now < event.end) {
          activeEffect = `effect-${event.effect}`;
          break;
        }
      }

      if (activeEffect === currentEffect) return;
      
      currentEffect = activeEffect;

      for (const cls of effectClasses) {
        reactionTargets.forEach(el => el.classList.remove(cls));
      }
      
      if (activeEffect) {
        reactionTargets.forEach(el => el.classList.add(activeEffect));
      }

    }, 100); 
  }


  /* ------------------ ENTER overlay behavior ------------------ */
  const entryOverlay = document.getElementById('entryOverlay');
  const enterBtn = document.getElementById('enterBtn');

  async function enterSite(){
    try {
      audioEl.volume = 0;
      await audioEl.play();
      
      let v = 0;
      const fade = setInterval(()=>{ v += 0.12; audioEl.volume = Math.min(1, v); if(v>=1) clearInterval(fade); }, 40);
      
      startTimestampChecker();

    } catch(e){
      console.warn('play err', e);
    } finally {
      entryOverlay.style.transition = 'opacity .28s ease';
      entryOverlay.style.opacity = '0';
      setTimeout(()=> { entryOverlay.remove(); document.getElementById('appRoot').removeAttribute('aria-hidden'); }, 360);
    }
  }

  enterBtn.addEventListener('click', enterSite);
  window.addEventListener('keydown', (e)=>{
    if((e.key === 'Enter' || e.keyCode === 13) && document.getElementById('entryOverlay')) {
      enterSite();
    }
  });

  /* ------------------ Pause / Mute ------------------ */
  document.getElementById('pauseBtn').addEventListener('click', ()=>{
    if(audioEl.paused) {
      audioEl.play();
      document.getElementById('pauseBtn').textContent = 'Pause';
    } else {
      audioEl.pause();
      document.getElementById('pauseBtn').textContent = 'Play';
    }
  });
  document.getElementById('muteBtn').addEventListener('click', ()=>{
    audioEl.muted = !audioEl.muted;
    document.getElementById('muteBtn').textContent = audioEl.muted ? 'Unmute' : 'Mute';
  });

  /* ------------------ small discord status (optional) ------------------ */
  const DISCORD_ID = '904431016175894528';
  async function fetchLanyard(){
    try{
      const res = await fetch('https://api.lanyard.rest/v1/users/' + DISCORD_ID);
      if(!res.ok) throw new Error('Lanyard fetch failed');
      const data = await res.json();
      if(data && data.success && data.data){
        const d = data.data;
        const online = d.discord_status || 'unknown';
        let color = '#777';
        if(online==='online') color = '#3ba55d';
        if(online==='dnd') color = '#ed4245';
        if(online==='idle') color = '#faa81a';
        const st = document.getElementById('statusText');
        st.style.color = color;
        let activity = 'Offline';
        if(d.activities && d.activities.length){
          activity = d.activities.map(a => a.name || a.state || 'Activity').join(', ');
        } else {
          activity = online === 'offline' ? 'Offline' : 'Online';
        }
        st.textContent = activity;
      }
    }catch(err){
      // ignore silently
    }
  }
  fetchLanyard();
  setInterval(fetchLanyard, 30000);
  </script>
</body>
</html>
